<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta name="generator" content="Scully 0.0.0"><script id="article-micro-data" type="application/ld+json">
            {
            "@context": "https://schema.org/",
            "@type": "BlogPosting",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://valor-software.com/articles/setting-up-your-project-on-gcp-fast-using-terraform-and-kubernetes"
            },
            "headline": "Setting up your project on GCP fast using Terraform and Kubernetes",
            "description": "In this article, I’ll lead you through a set-up of infrastructure on Google Cloud using Terraform.",
            "image": {
                "@type": "ImageObject",
                "url": "https://valor-software.com/assets/articles/setting-up-your-project-on-gcp-fast-using-terraform-and-kubernetes/61125e68768c8f5cb09151a1_Blog4.png",
                "width": "",
                "height": ""
            },
            "author": {
                "@type": "Organization",
                "name": "Angelina Shemrikovych"
            },
            "publisher": {
                "@type": "Organization",
                "name": "Valor Software",
                "logo": {
                "@type": "ImageObject",
                "url": "https://valor-software.com/assets/img/valor_img/valor-logo.svg",
                "width": "",
                "height": ""
                }
            },
            "datePublished": "Thu Jul 29 2021 13:15:26 GMT+0000 (Coordinated Universal Time)"
            }
        </script>
	<meta charset="utf-8">
	<title>Setting up your project on GCP fast using Terraform and Kubernetes</title>
	<base href="/">
	<meta name="robots" content="all">
	<meta property="og:type" content="website">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:image" content="/assets/img/valor-img/valor_social.jpg">

	<!-- Twitter Meta Tags -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@ValorSoft">
	<meta name="twitter:creator" content="@ValorSoft">

	<link rel="icon" type="image/x-icon" href="favicon.ico">
	<script>
      window.intercomSettings = {
          app_id: "brxsww1a"
      };
	</script>
	<script src="assets/js/intercom-facade.js"></script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-YD223JL5QN"></script>
	<script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
          dataLayer.push(arguments);
      }

      gtag('js', new Date());
	</script>
	<script type="text/javascript">
      window.onload = function () {
          if (window.self !== window.top) {
              document.body.innerHTML = `
                <div>
                  <h1>If you see this page, the valor site link you have clicked on is under Clickjacking security attack.</h1>
                  <h2>Please inform our team with the reference of the application from where you clicked this link.</h2>
                  <h2>Click <a href="https://valor-software.com" title='Valor site' target='blank'>here</a> to access valor site safely.</h2>
                </div>
              `;
          }
      };
	</script>
<style>:root{--light_font_col:#E1E1E1}*,:before,:after{box-sizing:border-box}html{tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}body{font-family:inherit;line-height:inherit}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}*,:before,:after{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-color:currentColor;--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-blur:var(--tw-empty, );--tw-brightness:var(--tw-empty, );--tw-contrast:var(--tw-empty, );--tw-grayscale:var(--tw-empty, );--tw-hue-rotate:var(--tw-empty, );--tw-invert:var(--tw-empty, );--tw-saturate:var(--tw-empty, );--tw-sepia:var(--tw-empty, );--tw-drop-shadow:var(--tw-empty, );--tw-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}:root{--swiper-navigation-size:44px}:root{--swiper-theme-color:#007aff}body,html{height:100%;--tw-bg-opacity:1;background-color:rgba(22,22,23,var(--tw-bg-opacity));scroll-behavior:smooth}</style><link rel="stylesheet" href="styles.3b3b2e937f9ac6b9.css" media="all" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.3b3b2e937f9ac6b9.css"></noscript><style>footer[_ngcontent-ng-c3396914408]{font-family:Work Sans,Roboto,Arial,"sans-serif"}.subscribe-title[_ngcontent-ng-c3396914408]{font-weight:700;font-size:24px;line-height:28px;color:#e3e3e3;text-align:center}.subscribe-success-msg[_ngcontent-ng-c3396914408]{font-weight:700;font-size:16px;line-height:20px;color:#e3e3e3;text-align:center;margin-top:12px}.img[_ngcontent-ng-c3396914408]{width:32px;height:32px}</style><style>[_nghost-ng-c1371038418]{position:fixed;bottom:0;left:0;right:0;z-index:10000;width:100%;background:#252829;color:#fff;overflow:hidden;box-sizing:border-box;line-height:24px;display:flex;flex-wrap:nowrap;padding:16px 29px;align-items:center;animation:1s _ngcontent-ng-c1371038418_fadein ease-in-out both}.btn[_ngcontent-ng-c1371038418]{display:block;padding:.4em .8em;font-size:.9em;font-weight:700;border-width:2px;border-style:solid;text-align:center;white-space:nowrap;border-color:transparent}@keyframes _ngcontent-ng-c1371038418_fadein{0%{opacity:0}to{opacity:1}}</style><style>.turbo-table{margin-top:25px}  .turbo-table tbody tr:not(:first-of-type){border-top:1px solid gray}  .turbo-table tbody tr:not(:first-of-type) td:not(:last-of-type){border-right:1px solid gray}  .turbo-table tbody tr:not(:first-of-type) td{padding:5px 10px}  tbody tr:first-of-type{text-align:center}  mark{background-color:#a9a9a9;color:#383838;border-radius:.3em;padding:.1em .25em}  .white{color:#fff}  .small-img{margin:auto;width:40%}  .block-citation{border-left-width:8px;--tw-border-opacity: 1;border-color:rgba(32,32,32,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:#2c2c2d}  .block-citation>.attribution{padding:0 16px 16px;text-align:right}  .block-citation>blockquote{border:0px;border-radius:3rem}  .block-citation>blockquote>.paragraph:first-of-type:before{content:open-quote;float:left;font-size:3em;margin-right:4px;font-weight:700;line-height:.6em;color:rgba(226,78,99,var(--tw-text-opacity))}  .block-citation>blockquote>.paragraph:first-of-type:after{content:no-close-quote}</style><meta name="description" content="In this article, I’ll lead you through a set-up of infrastructure on Google Cloud using Terraform."><meta property="og:title" content="Setting up your project on GCP fast using Terraform and Kubernetes"><meta property="og:description" content="In this article, I’ll lead you through a set-up of infrastructure on Google Cloud using Terraform."><meta property="twitter:title" content="Setting up your project on GCP fast using Terraform and Kubernetes"><meta property="twitter:description" content="In this article, I’ll lead you through a set-up of infrastructure on Google Cloud using Terraform."><style>
      swiper {
        display: block;
      }
    </style><script>window['ScullyIO']='generated';</script></head>
<body scully-version="0.0.0">
<valor-software-site-base-root _nghost-ng-c6223672="" ng-version="16.0.4"><top-menu _ngcontent-ng-c6223672=""><nav class="bg-grey_bg font-workSans text-base fixed top-0 w-full z-10"><div class="px-4 xl:px-28 lg:py-2.5"><div class="flex items-center justify-between h-16"><div class="flex-1 lg:flex-auto lg:hidden"><img src="assets/img/icons/burger-menu.svg" alt="burger menu icon"></div><!----><!----><div class="lg:flex flex-1 lg:flex-auto items-center"><div class="flex-shrink-0"><a routerlink="." class="cursor-pointer block justify-center flex" href="/"><img src="/assets/img/valor-img/valor-logo.svg" alt="Workflow" class="h-6 w-auto sm:h-14"></a></div><div class="hidden lg:block relative ml-20"><div class="flex space-x-2 leading-4"><div class="menu-item">For clients <div class="light-arrow"></div></div><a routerlink="/services" class="menu-item" href="/services">Services</a><a routerlink="/projects" class="menu-item" href="/projects">Portfolio</a><a routerlink="/careers" class="menu-item" href="/careers">Careers</a><a routerlink="/articles" class="menu-item active-route" href="/articles">Blog</a></div><menu-popover class="hidden lg:block"><div class="hidden lg:block"><div class="popover pt-10 px-10 z-20"><div class="arrow"></div><div class="flex justify-between flex-wrap"><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/startups"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/startups.svg"><h3 class="ml-2.5">Startups</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Software development from scratch to market launch</p></div></a></div><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/enterprises"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/enterprises.svg"><h3 class="ml-2.5">Enterprises</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Future-oriented solutions to solve today's problems and anticipate tomorrow’s needs</p></div></a></div><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/smbs"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/smbs.svg"><h3 class="ml-2.5">SMBs</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Budget-wise solutions for small to medium-sized businesses</p></div></a></div><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/non-profit"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/non-profits.svg"><h3 class="ml-2.5">Non-profits</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Technology solutions for non-governmental organizations</p></div></a></div><!----></div></div><div class="backdrop"></div></div><div class="adaptive-popover"><div><a href="/clients/startups"><div class="flex mb-7"><div class="flex items-center"><img src="/assets/img/icons/startups.svg"><h3 class="ml-2.5 text-xl">Startups</h3></div><!----></div></a></div><div><a href="/clients/enterprises"><div class="flex mb-7"><div class="flex items-center"><img src="/assets/img/icons/enterprises.svg"><h3 class="ml-2.5 text-xl">Enterprises</h3></div><!----></div></a></div><div><a href="/clients/smbs"><div class="flex mb-7"><div class="flex items-center"><img src="/assets/img/icons/smbs.svg"><h3 class="ml-2.5 text-xl">SMBs</h3></div><!----></div></a></div><div><a href="/clients/non-profit"><div class="flex"><div class="flex items-center"><img src="/assets/img/icons/non-profits.svg"><h3 class="ml-2.5 text-xl">Non-profits</h3></div><!----></div></a></div><!----></div></menu-popover></div></div><div class="lg:block flex-1 lg:flex-auto"><div class="flex items-end justify-end"><button type="button" class="btn-pink-border text-xs md:text-base"> Get in touch </button></div></div></div></div><div id="mobile-menu" class="adaptive-menu"><div class="px-2 pt-2 pb-3 space-y-1"><div class="menu-item">For clients <div class="light-arrow big"></div></div><menu-popover class="block lg:hidden !m-0"><div class="hidden lg:block"><div class="popover pt-10 px-10 z-20"><div class="arrow"></div><div class="flex justify-between flex-wrap"><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/startups"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/startups.svg"><h3 class="ml-2.5">Startups</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Software development from scratch to market launch</p></div></a></div><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/enterprises"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/enterprises.svg"><h3 class="ml-2.5">Enterprises</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Future-oriented solutions to solve today's problems and anticipate tomorrow’s needs</p></div></a></div><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/smbs"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/smbs.svg"><h3 class="ml-2.5">SMBs</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Budget-wise solutions for small to medium-sized businesses</p></div></a></div><div changesrconhover="" class="w-45% cursor-pointer text-light_font_col mb-12"><a href="/clients/non-profit"><div class="flex mb-2.5"><div class="flex items-center"><img src="/assets/img/icons/non-profits.svg"><h3 class="ml-2.5">Non-profits</h3></div><!----></div><div><p class="text-grey_font_col text-sm">Technology solutions for non-governmental organizations</p></div></a></div><!----></div></div><div class="backdrop"></div></div><div class="adaptive-popover"><div><a href="/clients/startups"><div class="flex mb-7"><div class="flex items-center"><img src="/assets/img/icons/startups.svg"><h3 class="ml-2.5 text-xl">Startups</h3></div><!----></div></a></div><div><a href="/clients/enterprises"><div class="flex mb-7"><div class="flex items-center"><img src="/assets/img/icons/enterprises.svg"><h3 class="ml-2.5 text-xl">Enterprises</h3></div><!----></div></a></div><div><a href="/clients/smbs"><div class="flex mb-7"><div class="flex items-center"><img src="/assets/img/icons/smbs.svg"><h3 class="ml-2.5 text-xl">SMBs</h3></div><!----></div></a></div><div><a href="/clients/non-profit"><div class="flex"><div class="flex items-center"><img src="/assets/img/icons/non-profits.svg"><h3 class="ml-2.5 text-xl">Non-profits</h3></div><!----></div></a></div><!----></div></menu-popover><a routerlink="/services" class="menu-item" href="/services">Services</a><a routerlink="/projects" class="menu-item" href="/projects">Portfolio</a><a routerlink="/careers" class="menu-item" href="/careers">Careers</a><a routerlink="/articles" class="menu-item active-route" href="/articles">Blog</a></div></div></nav></top-menu><!----><div _ngcontent-ng-c6223672="" class="font-workSans" style="min-height: 100%;"><router-outlet _ngcontent-ng-c6223672=""></router-outlet><article _nghost-ng-c198896663=""><section _ngcontent-ng-c198896663="" class="first-section-half landing-section mt-4 bg-dark_title_col lg:!pb-32 !pb:8"><div _ngcontent-ng-c198896663="" class="container flex items-center flex-col"><breadcrumbs _ngcontent-ng-c198896663="" class="w-full hidden md:block"><div><div class="flex text-grey_font_col"><a href="/" class="underline cursor-pointer">Home</a><span>&nbsp;&gt;&nbsp;</span><a href="/articles" class="underline cursor-pointer"> Articles </a><!----><!----><!----><span>&nbsp;&gt;&nbsp;</span><a href="/" class="disabled"> Setting Up Your Project On Gcp Fast Using Terraform And Kubernetes </a><!----><!----><!----><!----></div></div><!----></breadcrumbs><!----><!----><div _ngcontent-ng-c198896663="" class="w-full flex flex-col items-center md:mt-12 lg:mt-32 max-w-full lg:max-w-75% text-center text-light_title_col"><p _ngcontent-ng-c198896663="" class="text-20 mb-4">July 29, 2021</p><p _ngcontent-ng-c198896663="" class="text-large font-bold md:text-64 leading-66 mb-8 md:mb-14">Setting up your project on GCP fast using Terraform and Kubernetes</p><div _ngcontent-ng-c198896663="" class="w-70 h-70 rounded-full overflow-hidden mb-4"><img _ngcontent-ng-c198896663="" class="w-full h-full object-cover" src="https://valor-software.com/assets/articles/setting-up-your-project-on-gcp-fast-using-terraform-and-kubernetes/61125f1d8cab4f4c14ad9066_Angelina-Shemrikovych.png" alt="Angelina Shemrikovych"></div><!----><!----><!----><p _ngcontent-ng-c198896663="" class="md:text-large text-24 mb-4">Angelina Shemrikovych</p><!----><!----><!----><p _ngcontent-ng-c198896663="" class="text-20">DevOps Engineer</p><!----></div></div></section><section _ngcontent-ng-c198896663="" class="landing-section"><div _ngcontent-ng-c198896663="" class="container pt-4 md:pt-12 flex items-center flex-col article-box !max-w-1010"><div _ngcontent-ng-c198896663="" class="max-w-full"><div class="paragraph">
<p>Hi! My name is Angelina, and I’m a DevOps Engineer at Valor Software. With the help
of this article, we’ll set up your GCP environment to work in tandem with Terraform. I’ll guide you through the
setup of a basic cluster. For this, I picked the services that I use daily within my DevOps routine, since they are
optimal for your typical project setup. Let me explain myself here! By typical I mean common projects that are
natural (habitual) for your company or industry. In this case, I bet you’d appreciate a chance to build the
environment once and clone it for future projects. That’s exactly the way you can go with the services I offer
below. So, once you learn the basics for the project setup in this stack, you’ll be able to run new ones in the
cloud in no time.</p>
</div>
<div class="sect2">
<h3 id="_automated_setup_with_terraform"><strong>Automated setup with Terraform</strong></h3>
<div class="paragraph">
<p>When we
need to set up a cloud infrastructure for the project, we want to make it quickly. That’s when automation tools
come
to help. <a href="https://www.terraform.io/" target="_blank" rel="noopener">Terraform</a> is one of the instruments that
serve for automated setup, and it is compatible with more than 70 providers, which is beyond handy. Besides,
Terraform is pretty straightforward to get along with thanks to its declarative language. You don’t need to get
used
to a completely different CLI, like in cases when you switch to another cloud provider.</p>
</div>
<div class="paragraph">
<p>Why I suggest
picking Terraform from the great variety of services is because it’s perfect for creating reusable
infrastructures.
You can also clone the existing infrastructure and apply it to your next project, with small alterations if
needed.
This benefit of reusability, together with the security that Terraform provides, makes it a first-choice
technology
for solving my daily tasks. BTW, it’s also the right place for keeping electronic keys and hidden or encrypted
variables.</p>
</div>
<div class="paragraph">
<p>Another good point is that Terraform allows for managing several cloud infrastructures
from different providers in parallel with minimal time and effort spent.</p>
</div>
<div class="paragraph">
<p>In this article, I’ll lead
you through setting up infrastructure on Google Cloud using Terraform, so buckle up!</p>
</div>
</div>
<div class="sect2">
<h3 id="_kubernetes_on_google_cloud_platform"><strong>Kubernetes on Google Cloud Platform</strong></h3>
<div class="paragraph">
<p>Being one of the native Google products, Kubernetes is integrated
into GCP quite as is, with no alterations. So you can conveniently set it up and manage it through the GCP CLI
or
with the help of external instruments like Terraform.</p>
</div>
</div>
<div class="sect2">
<h3 id="_before_you_begin"><strong>Before you begin</strong></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" target="_blank" rel="noopener">Create a Google Cloud project</a></p>
</li>
<li>
<p><a href="https://cloud.google.com/iam/docs/creating-managing-service-account-keys" target="_blank" rel="noopener">Create a service account key</a> and download it in JSON format</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_terraform_and_gcp_setup_step_by_step"><strong>Terraform and GCP setup step-by-step</strong></h3>
<div class="paragraph">
<p>Create a new directory for the
project and create a main.tf file for the Terraform config, and populate it with the following content:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>provider "google" {
    credentials = file("CREDENTIALS_FILE.json")
    project = "your-project"
    region = "us-west1"
}</pre>
</div>
</div>
<div class="paragraph">
<p>Before we jump to the next step of creating a configuration file, we should remember to keep data (e.g.
keys, project names) in separate files. This way we ensure project security and give ourselves a chance to reuse
the configuration in the future. So, locate the project name, region, and credentials file in a separate file
with variables.</p>
</div>
<div class="paragraph">
<p>First, create a variables.tf file and declare variables for it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    variable "credentials" {
        type = string
    }

    variable "project" {
        type = string
    }

    variable "region" {
        type = string
    }</pre>
</div>
</div>
<div class="paragraph">
<p>Add the variables' values to secrets.tfvars:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>credentials = "CREDENTIALS_FILE.json"
project     = "your-project"
region      = "us-west1"</pre>
</div>
</div>
<div class="paragraph">
<p>Then format your main.tf file like so:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>provider  "google" {
    credentials = file(var.credentials)
    project     = var.project
    region      = var.region
}</pre>
</div>
</div>
<div class="paragraph">
<p>Now, when your variables are safe, you’ll be able to pick the needed files with variables instead of
repeatedly typing in new data in the main file.</p>
</div>
<div class="paragraph">
<p>With the <code><em>terraform init</em></code> command,
you’re pulling up modules that you will need to proceed with further steps.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>terraform init</pre>
</div>
</div>
<div class="paragraph">
<p>If you see this message, it’s a success! Hurray!</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Terraform has been initialised!</pre>
</div>
</div>
<div class="paragraph">
<p>For the next step, you add variables to the variables.tf file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    variable "cluster_name" {
      type = string
    }

    variable "cluster_zone" {
        type = string
    }

    variable "app_name" {
        type = string
    }</pre>
</div>
</div>
<div class="paragraph">
<p>Before creating a cluster, you should first add variables describing this particular cluster to the secrets.tfvars file:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster_name = “cluster-1”
cluster_zone = “us-west1-a”
app_name = “test”</pre>
</div>
</div>
<div class="paragraph">
<p>Now add the cluster configuration to your main.tf file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    resource "google_container_cluster" "cluster-1" {
      name =  var.cluster_name
      location =  var.cluster_zone
      initial_node_count = 3
      node_config {
         labels = {
          app = var.app_name
          }

        tags = ["app", var.app_name]
      }

      timeouts {
        create = "30m"
        update = "40m"
      }
    }</pre>
</div>
</div>
<div class="paragraph">
<p>In the configuration, you define the cluster’s name, its location, and the number of nodes and their
labels. The default namespace is the place where you create a cluster.</p>
</div>
<div class="paragraph">
<p>To operate with the
cluster and its components conveniently, you need to create an output.tf file, where you’ll add variables that
will be displayed after running the <code><em>terraform apply</em></code> command. You can use them later by calling them
during configuration.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>output "cluster" {  value = google_container_cluster.cluster-1.name}</pre>
</div>
</div>
<div class="paragraph">
<p>Now add a new resource which is deployment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    resource "kubernetes_deployment" "example" {
        metadata {
            name = "terraform-example"
            labels = {
                app = var.app_name
            }
        }

      spec {
        replicas = 3

        selector {
          match_labels = {
           app = var.app_name
          }
        }

        template {
          metadata {
            labels = {
             app = var.app_name
            }
          }

          spec {
            container {
              image = "nginx:1.7.8"
              name  = "example"

              resources {
                limits = {
                  cpu = "0.5"
                  memory = "512Mi"
                }
                requests = {
                  cpu = "250m"
                  memory = "50Mi"
                }
              }

              liveness_probe {
                http_get {
                  path = "/"
                  port = 80

                  http_header {
                    name  = "X-Custom-Header"
                    value = "Awesome"
                  }
                }

                initial_delay_seconds = 3
                period_seconds = 3
              }
            }
          }
        }
      }
    }</pre>
</div>
</div>
<div class="paragraph">
<p>In the deployment configuration, you specify the number of replicas, tags, labels, an image that we’re
going to use, as well as internal resources. Finally, you have it all ready for the first launch and go with
this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>terraform plan -var-file=secrets.tfvars</pre>
</div>
</div>
<div class="paragraph">
<p>In this way, you check if the configuration is created properly and if you’re satisfied with the range of
resources.</p>
</div>
<div class="paragraph">
<p>When you’re quite sure that everything is correct, it’s time for the <code><em>terraform apply</em></code> command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>terraform apply -var-file=secrets.tfvars</pre>
</div>
</div>
<div class="paragraph">
<p>And don’t forget to specify the file with variables! At this stage, you’ll have to confirm your actions by
running a <code><em>yes</em></code> command. Terraform will build your new GKE cluster on GCP. After the cluster is
created, you’ll see the output list.</p>
</div>
<div class="paragraph">
<p>For your convenience, in the future, you can split the
config file into a few separate files. Place the provider block in the providers.tf file, and a
"google_container_cluster" block” in the cluster.tf file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_good_job"><strong>Good job!</strong></h3>
<div class="paragraph">
<p>You’re almost done with your journey, the cluster is up and running, and you
can be (ugh) proud of yourself!</p>
</div>
<div class="paragraph">
<p>For your future projects, you’ll be able to add more metrics
and parameters when creating a resource. This will help you adjust your configuration for solving every
particular task.</p>
</div>
</div>
<div class="sect2">
<h3 id="_useful_links"><strong>Useful links</strong></h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" target="_blank" rel="noopener">Create a Google Cloud
project</a></p>
</li>
<li>
<p><a href="http://about:blank" target="_blank" rel="noopener">Create a service account key using the Google Cloud Console</a></p>
</li>
</ul>
</div>
</div></div></div></section><!----><section _ngcontent-ng-c198896663="" class="landing-section"><h1 _ngcontent-ng-c198896663="" class="main-title">More Articles</h1><div _ngcontent-ng-c198896663="" class="container"><blog-preview _ngcontent-ng-c198896663=""><swiper class="article_swiper swiper swiper-initialized swiper-horizontal swiper-pointer-events"><!----><!----><div class="swiper-pagination swiper-pagination-clickable swiper-pagination-bullets swiper-pagination-horizontal"><span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span></div><!----><div class="swiper-wrapper" style="transform: translate3d(0px, 0px, 0px);"><!----><!----><div data-swiper-slide-index="0" class="swiper-slide swiper-slide-active" style="width: 733px; margin-right: 40px;"><!----><a href="/articles/exploring-asynchronous-programming-approaches-in-python-mastering-asynchronous-programming-in-python" class="block w-full cursor-pointer"><blog-portfolio-item><div class="article-item"><div class="img-container-auto zoom-img-scale"><img class="w-full h-full object-cover" src="assets/articles/exploring-asynchronous-programming-approaches-in-python-mastering-asynchronous-programming-in-python/Main_Asynchronous_programming.png" alt="Exploring Asynchronous Programming Approaches in Python (Mastering Asynchronous Programming in Python)"></div><div class="text-container"><p>Exploring Asynchronous Programming Approaches in Python (Mastering Asynchronous Programming in Python)</p></div></div></blog-portfolio-item></a><!----><!----><!----><!----><!----></div><div data-swiper-slide-index="1" class="swiper-slide swiper-slide-next" style="width: 733px; margin-right: 40px;"><!----><a href="/articles/the-interview-under-the-hood" class="block w-full cursor-pointer"><blog-portfolio-item><div class="article-item"><div class="img-container-auto zoom-img-scale"><img class="w-full h-full object-cover" src="assets/articles/the-interview-under-the-hood/Main-the-interview-under-the-hood.png" alt="The Interview Under the Hood"></div><div class="text-container"><p>The Interview Under the Hood</p></div></div></blog-portfolio-item></a><!----><!----><!----><!----><!----></div><div data-swiper-slide-index="2" class="swiper-slide" style="width: 733px; margin-right: 40px;"><!----><a href="/articles/game-n-qwik-the-final-episode" class="block w-full cursor-pointer"><blog-portfolio-item><div class="article-item"><div class="img-container-auto zoom-img-scale"><img class="w-full h-full object-cover" src="assets/articles/game-n-qwik-the-final-episode/Main-game-n-qwik-the-final-episode.png" alt="Game-n-Qwik. The Final Episode."></div><div class="text-container"><p>Game-n-Qwik. The Final Episode.</p></div></div></blog-portfolio-item></a><!----><!----><!----><!----><!----></div><!----><!----><!----><!----></div><!----></swiper><!----><!----></blog-preview></div></section><!----><!----></article><!----></div><app-footer _ngcontent-ng-c6223672="" _nghost-ng-c3396914408=""><footer _ngcontent-ng-c3396914408="" class="mx-11 xl:mx-28 mb-6"><div _ngcontent-ng-c3396914408="" class="w-full flex flex-col lg:flex-row items-center lg:items-start border-t-2 border-placeholder_col pt-16 pb-10"><div _ngcontent-ng-c3396914408="" class="flex flex-col items-center lg:items-start order-3 lg:order-1 w-full lg:w-2/6 mr-0 lg:mr-8 mt-10 lg:mt-0"><a _ngcontent-ng-c3396914408="" routerlink="." class="cursor-pointer" href="/"><img _ngcontent-ng-c3396914408="" src="/assets/img/valor-img/valor-logo.svg" alt="Workflow" class="h-14 w-70 lg:w-full"></a><span _ngcontent-ng-c3396914408="" class="m-0 text-header_font_col text-sm pt-4">Valor Labs Inc.</span><span _ngcontent-ng-c3396914408="" class="m-0 text-center text-header_font_col text-sm pt-3 w-48 lg:text-left">8 The Green, Suite 300 Dover DE 19901</span><span _ngcontent-ng-c3396914408="" class="m-0 text-header_font_col text-sm pt-3">© 2023, Valor Software All Rights Reserved</span><a _ngcontent-ng-c3396914408="" routerlink="/privacy-policy" class="m-0 text-header_font_col text-sm link pt-3" href="/privacy-policy">Privacy Policy </a></div><div _ngcontent-ng-c3396914408="" class="flex flex-col items-center justify-center order-1 lg:order-2 w-full lg:w-2/6 mr-0 lg:mr-8"><span _ngcontent-ng-c3396914408="" class="subscribe-title w-full">Subscribe to our newsletter now</span><form _ngcontent-ng-c3396914408="" novalidate="" action="https://valor-software.us6.list-manage.com/subscribe/post?u=ec02b86e27ea826fc9590dc10&amp;id=a7fdce3c62&amp;f_id=00c82fe3f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="flex flex-col items-start mt-6 w-full"><div _ngcontent-ng-c3396914408="" class="flex flex-col lg:flex-row w-full"><input _ngcontent-ng-c3396914408="" type="email" placeholder="Enter email" name="EMAIL" id="mce-EMAIL" class="text-input w-full lg:w-9/12 mr-0 lg:mr-4 px-3 py-2 ng-untouched ng-pristine ng-invalid"><div _ngcontent-ng-c3396914408="" hidden=""><input _ngcontent-ng-c3396914408="" type="hidden" name="tags" value="3376148"></div><div _ngcontent-ng-c3396914408="" aria-hidden="true" style="position: absolute; left: -5000px;"><input _ngcontent-ng-c3396914408="" type="text" name="b_ec02b86e27ea826fc9590dc10_a7fdce3c62" tabindex="-1"></div><input _ngcontent-ng-c3396914408="" type="submit" name="subscribe" id="mc-embedded-subscribe" value="Subscribe" class="btn-pink-border w-full lg:w-auto text-base mt-4 lg:mt-0" disabled=""></div><!----><!----></form><div _ngcontent-ng-c3396914408="" class="flex items-center mt-10 w-full"><button _ngcontent-ng-c3396914408="" type="button" class="btn-pink text-base flex items-center justify-center w-full"> Get in touch </button></div></div><div _ngcontent-ng-c3396914408="" class="flex w-full lg:w-2/6 justify-center mt-11 lg:mt-0 order-2 lg:order-3"><div _ngcontent-ng-c3396914408="" class="flex flex-wrap justify-center w-full lg:max-w-[240px]"><a _ngcontent-ng-c3396914408="" href="https://www.linkedin.com/company/valor-software/about/" target="_blank" rel="noopener" class="flex justify-center text-header_font_co mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/linkedin.svg" alt="" class="img"></a><a _ngcontent-ng-c3396914408="" href="https://www.instagram.com/valor.software/" target="_blank" rel="noopener" class="flex justify-center text-header_font_col mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/instagram.svg" alt="" class="img"></a><a _ngcontent-ng-c3396914408="" href="https://twitter.com/ValorSoft" target="_blank" rel="noopener" class="flex justify-center text-header_font_col mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/twitter.svg" alt="" class="img"></a><a _ngcontent-ng-c3396914408="" href="https://dribbble.com/valor-labs" target="_blank" rel="noopener" class="flex justify-center text-header_font_col mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/dribble.svg" alt="" class="img"></a><a _ngcontent-ng-c3396914408="" href="https://www.behance.net/ValorSoftware" target="_blank" rel="noopener" class="flex justify-center text-header_font_col mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/behance.svg" alt="" class="img"></a><a _ngcontent-ng-c3396914408="" href="https://www.facebook.com/valorsoftware/" target="_blank" rel="noopener" class="flex justify-center text-header_font_col mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/facebook.svg" alt="" class="img"></a><a _ngcontent-ng-c3396914408="" href="https://www.youtube.com/@valorsoftware?app=desktop" target="_blank" rel="noopener" class="flex justify-center text-header_font_col mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/youtube.svg" alt="" class="img"></a><a _ngcontent-ng-c3396914408="" href="https://dev.to/valorsoftwaretech" target="_blank" rel="noopener" class="flex justify-center text-header_font_col mb-5 mr-5"><img _ngcontent-ng-c3396914408="" src="assets/img/icons/social/devto.svg" alt="" class="img"></a></div></div></div></footer></app-footer><!----><cookie-consent-banner _ngcontent-ng-c6223672="" _nghost-ng-c1371038418=""><div _ngcontent-ng-c1371038418="" class="banner flex flex-col items-center lg:flex-row justify-between px-4 xl:px-20 font-workSans !w-full"><div _ngcontent-ng-c1371038418="" class="flex flex-col"><span _ngcontent-ng-c1371038418="" class="text-20">This website uses cookies.</span><span _ngcontent-ng-c1371038418="" id="cookieconsent:desc" class="leading-18"> We use cookies to make sure this website can function. By continuing to browse this website, you agree to our use of cookies. <a _ngcontent-ng-c1371038418="" aria-label="learn more about our privacy policy" href="https://valor-software.com/privacy-policy" target="_blank" class="text-center text-header_font_col text-sm link">Learn more </a></span></div><div _ngcontent-ng-c1371038418="" class="flex items-center pt-5 lg:pt-0"><button _ngcontent-ng-c1371038418="" class="btn btn-pink flex md:justify-between justify-center py-5 px-10 w-full lg:w-auto"> Accept all cookies </button></div></div></cookie-consent-banner><!----></valor-software-site-base-root>
<script async="" src="assets/js/prettify.min.js"></script>
<script id="ScullyIO-transfer-state"></script><script src="runtime.9d0e8ccaf21e9d87.js" type="module"></script><script src="polyfills.2066255b7190fd43.js" type="module"></script><script src="main.726840c60d5f9c27.js" type="module"></script>

</body></html>
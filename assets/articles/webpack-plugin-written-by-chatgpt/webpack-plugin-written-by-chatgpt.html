<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>No matter what social media platform you are on if you follow the tech space, or any space for that matter, you are most likely seeing content about ChatGPT or even content generated by ChatGPT.</p>
</div>
<div class="paragraph">
<p>When it first came out a few weeks ago, I played with it, thought it was pretty cool and had my kids started using it to write guided stories with ideas from their imagination. When combined with MidJourney AI generated art the overall experience was quite amazing.</p>
</div>
<div class="paragraph">
<p>Last night seeing <a href="https://dev.to/scriptedalchemy" target="_blank" rel="noopener">@scriptedalchemy</a> share about his <a href="https://www.linkedin.com/feed/update/urn:li:activity:7009395526903234560/" target="_blank" rel="noopener">experiences</a> with it I decided to try something a little more challenging.</p>
</div>
<div class="paragraph">
<p>A lot of my focus lately is on ModuleFederation and webpack. I asked myself what could ChatGPT do with that combination and what would be fun to see. My prompts and directions will be in quote blocks.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_task">The Task</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first question I asked the site:</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>Create a webpack plugin in typescript that wraps module federation and adds additional logging</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Zackary Chapple
</div>
</div>
<div class="paragraph">
<p>Below is the first reply:</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>To create a webpack plugin in TypeScript that wraps module federation and adds additional logging, you can follow these steps:"</p>
</div>
<div class="paragraph">
<p>Create a new TypeScript project and install the necessary dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm init -y
npm install --save-dev webpack webpack-cli typescript ts-loader</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a tsconfig.json file to configure the TypeScript compiler. In the compilerOptions object, set the module option to "commonjs" and the target option to "esnext". This will ensure that the generated JavaScript code is compatible with webpack.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "compilerOptions": {
    "module": "commonjs",
    "target": "esnext"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a webpack.config.ts file to configure webpack. In the configuration object, set the mode option to "development" and add a resolve object to specify that webpack should resolve TypeScript files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Configuration } from 'webpack';

const config: Configuration = {
  mode: 'development',
  resolve: {
    extensions: ['.ts', '.tsx']
  },
  // Add other configuration options here
};

export default config;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the webpack.config.ts file, add a module object to specify that webpack should use the ts-loader to transpile TypeScript files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Configuration } from 'webpack';

const config: Configuration = {
  // Other configuration options
  module: {
    rules: [
      {
        test: /\.tsx?$/,
        use: 'ts-loader',
        exclude: /node_modules/
      }
    ]
  }
};

export default config;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a src directory and add an entry point file, such as src/index.ts. This will be the file that webpack will use as the starting point for the build.</p>
</div>
<div class="paragraph">
<p>In the webpack.config.ts file, add an entry object to specify the entry point file and a output object to specify the path and filename of the bundled JavaScript file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">import { Configuration } from 'webpack';

const config: Configuration = {
// Other configuration options
entry: './src/index.ts',
output: {
path: __dirname + '/dist',
filename: 'bundle.js'
}
};

export default config;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install the necessary dependencies for module federation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install --save-dev @module-federation/client</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the webpack.config.ts file, import the ModuleFederationPlugin from the @module-federation/client package and add it to the plugins array in the configuration object. You can also specify the remotes option to specify the remote modules that your application should be able to access.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Configuration } from 'webpack';
import { ModuleFederationPlugin } from '@module-federation/client';

const</code></pre>
</div>
</div>
</blockquote>
<div class="attribution">
&#8212; The AI
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_first_issues">First issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can see that the last code block is incomplete. Sometimes, on more lengthy requests, the chatbot can time out, I tried, quite literally, asking it to keep going.</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>Keep going</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Zackary Chapple
</div>
</div>
<div class="paragraph">
<p>"Sure, here are the next steps:", said ChatGPT</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>Create a TypeScript interface for the plugin&#8217;s options. This will allow you to specify the options for the plugin when it is added to the plugins array in the webpack configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">export interface ModuleFederationLoggingPluginOptions {
  // Add options here
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a new class for the plugin that extends the ModuleFederationPlugin class and implements the apply method. In the apply method, you can wrap the ModuleFederationPlugin and add additional logging.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Compiler, Plugin } from 'webpack';
import { ModuleFederationPlugin } from '@module-federation/client';
import { ModuleFederationLoggingPluginOptions } from './options';

class ModuleFederationLoggingPlugin implements Plugin {
  private readonly options: ModuleFederationLoggingPluginOptions;
  private readonly moduleFederationPlugin: ModuleFederationPlugin;

  constructor(options: ModuleFederationLoggingPluginOptions) {
    this.options = options;
    this.moduleFederationPlugin = new ModuleFederationPlugin(options);
  }

  apply(compiler: Compiler) {
    this.moduleFederationPlugin.apply(compiler);

    // Add additional logging here
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the webpack.config.ts file, import the ModuleFederationLoggingPlugin class and add an instance of it to the plugins array in the configuration object. You can also specify the options for the plugin by passing an object to the constructor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Configuration } from 'webpack';
import { ModuleFederationLoggingPlugin } from './module-federation-logging-plugin';

const config: Configuration = {
  // Other configuration options
  plugins: [
    new ModuleFederationLoggingPlugin({
      // Specify options here
    })
  ]
};

export default config;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run webpack to build the project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npx webpack</code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s it! You have now created a webpack plugin in TypeScript that wraps module federation and adds additional logging.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; The AI
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modifying_the_results">Modifying the results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Seeing what the results were it was quite verbose, but it does not follow the platform I usually like to use, <a href="https://dev.to/nrwl_io" target="_blank" rel="noopener">@nrwl_io&#8217;s</a> Nx. So I did a redirect on the conversation.</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>how can I simplify the steps by using Nx</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Zackary Chapple
</div>
</div>
<div class="paragraph">
<p>Using Nx (Nrwl Extensions for Angular) can simplify the process of creating a webpack plugin in TypeScript that wraps module federation and adds additional logging. Nx is a set of open-source tools and libraries that can help you develop full-stack applications more efficiently.</p>
</div>
<div class="paragraph">
<p>To use Nx to create a webpack plugin, follow these steps:</p>
</div>
<div class="paragraph">
<p>Install the Nx CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install -g @nrwl/cli</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a new Nx workspace:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npx create-nx-workspace my-workspace</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the Nx workspace, create a new library for the webpack plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npx nx g @nx/workspace:lib module-federation-logging-plugin</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the library directory, create a tsconfig.json file to configure the TypeScript compiler. In the compilerOptions object, set the module option to "commonjs" and the target option to "esnext". This will ensure that the generated JavaScript code is compatible with webpack.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "compilerOptions": {
    "module": "commonjs",
    "target": "esnext"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the library directory, create a new TypeScript file for the plugin, such as src/module-federation-logging-plugin.ts. In this file, create a new class for the plugin that extends the ModuleFederationPlugin class and implements the apply method. In the apply method, you can wrap the ModuleFederationPlugin and add additional logging.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Compiler, Plugin } from 'webpack';
import { ModuleFederationPlugin } from '@module-federation/client';

export class ModuleFederationLoggingPlugin implements Plugin {
  private readonly moduleFederationPlugin: ModuleFederationPlugin;

  constructor(options: any) {
    this.moduleFederationPlugin = new ModuleFederationPlugin(options);
  }

  apply(compiler: Compiler) {
    this.moduleFederationPlugin.apply(compiler);

    // Add additional logging here
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the libs/module-federation-logging-plugin/tsconfig.lib.json file, add a typeRoots field to specify the path to the TypeScript declaration files for the webpack and @module-federation/client packages. This will allow the TypeScript compiler to find the type definitions for these packages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "../../dist/out-tsc",
    "typeRoots": [
      "node_modules/@types",
      "node_modules/@module-federation/client/node_modules/@types"
    ]
  },
  "include": ["src/**/*.ts"]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the libs/module-federation-logging-plugin/src/index.ts file, export the ModuleFederationLoggingPlugin class. This will allow other projects in the Nx workspace to use the</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_second_timeout">Second timeout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can see that I received another timeout due to the length of the response. This time instead of just asking it to continue I tried to get it to pick back up from step 7 which was incomplete.</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>Repeat the content of step 7 and keep going</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Zackary Chapple
</div>
</div>
<div class="paragraph">
<p>And the chat-bot said:</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>Sure, here is the content of step 7:</p>
</div>
<div class="paragraph">
<p>In the libs/module-federation-logging-plugin/src/index.ts file, export the ModuleFederationLoggingPlugin class. This will allow other projects in the Nx workspace to use the plugin.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">export { ModuleFederationLoggingPlugin } from './module-federation-logging-plugin';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here are the next steps:</p>
</div>
<div class="paragraph">
<p>In the Nx workspace, create a new application that will use the webpack plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npx nx g @nx/angular:app my-app</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install the necessary dependencies for module federation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install --save-dev @module-federation/client</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the apps/my-app/src/webpack.config.ts file, import the ModuleFederationLoggingPlugin class from the library and add an instance of it to the plugins array in the webpack configuration object. You can also specify the options for the plugin by passing an object to the constructor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Configuration } from 'webpack';
import { ModuleFederationLoggingPlugin } from '@my-workspace/module-federation-logging-plugin';

const config: Configuration = {
  // Other configuration options
  plugins: [
    new ModuleFederationLoggingPlugin({
      // Specify options here
    })
  ]
};

export default config;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run webpack to build the application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npx nx run my-app:build</code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s it! You have now used Nx to create a webpack plugin in TypeScript that wraps module federation and adds additional logging.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; The AI
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_one_more_tweak">One more tweak</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Just to see how far I can go I wanted to add some documentation. No plugin is complete without documentation right?</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>Can you add swagger documentation to the src/module-federation-logging-plugin.ts file</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Zackary Chapple
</div>
</div>
<div class="paragraph">
<p>And the chat-bot delivered the following:</p>
</div>
<div class="quoteblock block-citation">
<blockquote>
<div class="paragraph">
<p>To add Swagger documentation to the src/module-federation-logging-plugin.ts file, you can use Swagger annotations in the form of JSDoc comments. JSDoc is a documentation standard for JavaScript that is widely supported by tools like Swagger.</p>
</div>
<div class="paragraph">
<p>Here is an example of how you can add Swagger documentation to the ModuleFederationLoggingPlugin class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Compiler, Plugin } from 'webpack';
import { ModuleFederationPlugin } from '@module-federation/client';


/**
* A webpack plugin that wraps module federation and adds additional logging.
*
* @param {Object} options - The options for the plugin.
* @param {string} options.remoteName - The name of the remote module.
* @param {string} options.remoteType - The type of the remote module.
* @param {string} options.remoteUrl - The URL of the remote module.
*/
export class ModuleFederationLoggingPlugin implements Plugin {
private readonly moduleFederationPlugin: ModuleFederationPlugin;

  constructor(options: any) {
    this.moduleFederationPlugin = new ModuleFederationPlugin(options);
  }

  apply(compiler: Compiler) {
    this.moduleFederationPlugin.apply(compiler);

    // Add additional logging here
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can then use a tool like Swagger UI or ReDoc to generate a documentation website from the Swagger annotations. To do this, you will need to generate a Swagger JSON file from the annotations. There are various tools and libraries that can do this, such as swagger-jsdoc and swagger-ui-express.</p>
</div>
<div class="paragraph">
<p>Here is an example of how you can use swagger-ui-express to generate a Swagger documentation website:</p>
</div>
<div class="paragraph">
<p>Install the necessary dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install --save swagger-ui-express swagger-jsdoc</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a swagger.js file with the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">const swaggerUi = require('swagger-ui-express');
const swaggerJSDoc = require('swagger-jsdoc');

// Swagger definition
const swaggerDefinition = {
  openapi: '3.0.0',
  info: {
    title: 'Module Federation Logging Plugin',
    version: '1.0.0',
    description: 'A webpack plugin that wraps module federation and adds additional logging.'
  },
  servers: [
    {
      url: 'http://localhost:3000'
    }
  ]
};

// Options for the swagger-jsdoc library
const options = {
  swaggerDefinition,
  apis: ['./src/module-federation-logging-plugin.ts']
};

// Initialize the Swagger document
const swaggerSpec = swaggerJSDoc(options);

module.exports = app =&gt; {
  app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec));
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>In your application&#8217;s main file, such as index.js, require the swagger.js file and pass the express app instance to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">const express = require('express');
const app = express();</code></pre>
</div>
</div>
</blockquote>
<div class="attribution">
&#8212; The AI
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After about 5 minutes I have code that is pretty close to what I was expecting. It has more comments and guidance than I would have created on my own, and for the most part, follows some pretty decent best practices.</p>
</div>
<div class="paragraph">
<p>ChatGTP was able to accept redirects that were pretty technical in nature, with little context, and adjust the output appropriately.</p>
</div>
<div class="paragraph">
<p>While not a replacement for a developer that is experienced this tooling and process can help to learn new frameworks, patterns and create functionality more rapidly.</p>
</div>
<div class="paragraph">
<p>Combining highly skilled engineers with ChatGPT will in the near future (if not now) increase their velocity. Combining new engineers with ChatGPT will aid in their exposure to practices that they can then begin to understand and question in their learning journey.</p>
</div>
<div class="paragraph">
<p>What exciting times we live in!</p>
</div>
</div>
</div>
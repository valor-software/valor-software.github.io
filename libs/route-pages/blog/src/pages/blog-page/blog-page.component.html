<section class="landing-section !pt-24 !pb-0">
	<div class="container flex flex-col lg:items-end">
		<mat-form-field *ngIf="articles.length > 0"
		                class="search">
			<input type="text"
			       matInput
			       [placeholder]="'Search'"
			       [formControl]="searchTermControl"
			       [matAutocomplete]="autoGroup">
			<mat-autocomplete [disableRipple]="true"
			                  #autoGroup="matAutocomplete">
				<mat-optgroup *ngFor="let group of groupedAndFilteredArticles" [label]="group.tag">
					<mat-option *ngFor="let article of group.articles" [value]="article.title"
											(click)="navigateToArticle(article.title)"
											(onSelectionChange)="navigateToArticle(article.title)">
						<span class="cursor-pointer"
						      [innerHtml]="article.title | highlightMatchingLetters: searchTermControl.value"></span>
					</mat-option>
				</mat-optgroup>
			</mat-autocomplete>

			<mat-icon matPrefix>search</mat-icon>
			<button *ngIf="searchTermControl?.value?.length ?? 0 > 0"
			        [disableRipple]="true"
			        mat-icon-button
			        (click)="searchTermControl.reset()"
			        matSuffix>
				<mat-icon>close</mat-icon>
			</button>
		</mat-form-field>


		<div class="flex flex-col lg:flex-row lg:mt-7"
		     *ngIf="firstArticles.length > 0 && activeArticle">

			<a *ngIf="activeArticle?.title"
			   href="javascript:void(0)"
			   [routerLink]="[getRouteLink(activeArticle.title)]"
			   class="cursor-pointer main-image">
				<blog-item
						class="w-full lg:pt-0"
						[showActiveArticle]="true"
						[article]="activeArticle">
				</blog-item>
			</a>

			<div class="first-articles">
				<ng-container *ngFor="let article of articles | slice : 0: 4">
					<a
							href="javascript:void(0)"
							[routerLink]="[getRouteLink(article.title)]"
							class="w-full cursor-pointer smaller-article-item">
						<blog-item
								*ngIf="article?.title !== activeArticle?.title"
								[showLatestArticles]="true"
								[article]="article"
						></blog-item>
					</a>
				</ng-container>
			</div>

			<div class="block lg:hidden mt-4 lg:mt-0">
				<h1 class="main-title mb-4">Latest Articles</h1>

				<swiper
						[config]="swiperConfig"
						class="pink_swiper transparent_slides">
					<ng-template swiperSlide *ngFor="let article of firstArticles">
						<a href="javascript:void(0)" [routerLink]="[getRouteLink(article.title)]"
						   class="w-full lg:max-w-380 lg:w-31% cursor-pointer smaller-article-item">
							<blog-item
									*ngIf="article?.title !== activeArticle?.title"
									[showLatestArticles]="true"
									[article]="article">
							</blog-item>
						</a>
					</ng-template>

				</swiper>
			</div>
		</div>

	</div>
</section>

<section class="landing-section pt-0">
	<div class="container pb-5 flex flex-col">
		<h1 class="main-title mt-10 mb-4 lg:mb-12">All Articles</h1>

		<div *ngIf="articles.length > 0"
		     class="flex justify-between items-center"
		     style="max-height: 100%;">
			<blog-block [_articles]="articles"></blog-block>
		</div>
	</div>

</section>


